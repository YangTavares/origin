

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Programming a Tile &mdash; CSUEB FPGA 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="CSUEB FPGA 1.0 documentation" href="index.html"/>
        <link rel="up" title="Programming" href="programming.html"/>
        <link rel="next" title="Using VPR" href="vprprogram.html"/>
        <link rel="prev" title="FPGA Decoder" href="fpgadecoder.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> CSUEB FPGA
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">FPGA Project Description</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readwrite.html">Managing SRAM on FPGA</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tile.html">Tile</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="interconnect.html">Interconnect</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="programming.html">Programming</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="16accumulator.html">16-bit Accumulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="fpgadecoder.html">FPGA Decoder</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Programming a Tile</a></li>
<li class="toctree-l2"><a class="reference internal" href="vprprogram.html">Using VPR</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">CSUEB FPGA</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="programming.html">Programming</a> &raquo;</li>
      
    <li>Programming a Tile</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/tileprogram.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="programming-a-tile">
<h1>Programming a Tile<a class="headerlink" href="#programming-a-tile" title="Permalink to this headline">Â¶</a></h1>
<p>To program a Tile with the schematics given, it is needed to modify the generated SPICE file of the circuit to generate the signals at the ports that we want. We used PWL (Pulse Wise Linear) piece to generate a controlled pulse as desired (<a class="reference external" href="http://www.seas.upenn.edu/~jan/spice/spice.overview.html#Piecewise">http://www.seas.upenn.edu/~jan/spice/spice.overview.html#Piecewise</a>). To do so, first we need to create a program that converts hexadecimal numbers to binary and then waveforms:</p>
<div class="highlight-c"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#define _GNU_SOURCE</span>
<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;unistd.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;errno.h&gt;</span><span class="cp"></span>

<span class="cp">#define HEX_SIZE        9 </span><span class="c1">// 10-1</span>
<span class="cp">#define SIGNALS_NUM 39</span>

<span class="kt">int</span> <span class="nf">chartohex</span><span class="p">(</span><span class="kt">char</span> <span class="n">c</span><span class="p">){</span>

        <span class="k">switch</span> <span class="p">(</span><span class="n">c</span><span class="p">){</span>
                <span class="k">case</span> <span class="sc">&#39;0&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;1&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;2&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;3&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">3</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;4&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">4</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;5&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">5</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;6&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">6</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;7&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">7</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;8&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">8</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;9&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">9</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;A&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;B&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">11</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;C&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">12</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;D&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">13</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;E&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">14</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;F&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">15</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;a&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;b&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">11</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;c&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">12</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;d&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">13</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;e&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">14</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">&#39;f&#39;</span><span class="o">:</span>
                        <span class="k">return</span> <span class="mi">15</span><span class="p">;</span>
                <span class="k">default</span><span class="o">:</span>
                        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Not valid</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
                        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>

<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[]){</span>

    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">currentnumber</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">result</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">t</span><span class="o">=</span><span class="mi">100</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">getchange</span><span class="p">;</span>

        <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">names</span><span class="p">[</span><span class="n">SIGNALS_NUM</span><span class="o">+</span><span class="mi">2</span><span class="p">];</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN0&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN1&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN2&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN3&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN4&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN5&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN6&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN7&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN8&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN9&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN10&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN11&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN12&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN13&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN14&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_IN15&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;F_Decoder&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;E_Decoder&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;D_Decoder&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;C_Decoder&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Write_Enable&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Enable_Decoder&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">22</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Pull_Read&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">23</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;SE&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">24</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_0&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">25</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_1&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">26</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_2&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">27</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_3&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">28</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_4&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">29</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_5&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_6&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">31</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_7&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">32</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_8&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">33</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;IN_9&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">34</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;CLOCK_0&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">35</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;CLOCK_1&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">36</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;CLOCK_2&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">37</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;CLOCK_3&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">38</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;D_Reset&quot;</span><span class="p">;</span>
        <span class="n">names</span><span class="p">[</span><span class="mi">39</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;B_Decoder&quot;</span><span class="p">;</span>



        <span class="kt">char</span> <span class="n">cwd</span><span class="p">[</span><span class="mi">1024</span><span class="p">];</span>
        <span class="kt">char</span> <span class="n">ch</span><span class="p">;</span>
        <span class="kt">char</span> <span class="n">line</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>

        <span class="kt">FILE</span>  <span class="o">*</span><span class="n">newfile</span><span class="p">;</span>
        <span class="kt">FILE</span>  <span class="o">*</span><span class="n">inputfile</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">number</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">testcount</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>

        <span class="kt">int</span> <span class="n">sizeoffile</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">currenthex</span> <span class="o">=</span> <span class="n">HEX_SIZE</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">amountofshift</span><span class="p">;</span>

        <span class="kt">char</span> <span class="n">c</span><span class="p">;</span>

        <span class="n">inputfile</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="s">&quot;r&quot;</span><span class="p">);</span>

        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;The contents of %s file are :</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>

        <span class="k">while</span> <span class="p">(</span><span class="n">fgets</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">line</span><span class="p">),</span> <span class="n">inputfile</span><span class="p">))</span> <span class="p">{</span>
                <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span><span class="n">line</span><span class="p">);</span>
                <span class="cm">/*</span>
<span class="cm">                for(i=0;i&lt;=10;i++){</span>
<span class="cm">                        c = line[i];</span>
<span class="cm">                        printf(&quot;line%d--&gt;%c\n&quot;,i, c);</span>
<span class="cm">                        number = chartohex(c);</span>
<span class="cm">                        printf(&quot;NUMERO---&gt;%d\n&quot;,number);</span>
<span class="cm">                }</span>
<span class="cm">                */</span>
                <span class="n">sizeoffile</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">//printf(&quot;sizeoffile---&gt;%d\n&quot;,sizeoffile);</span>
        <span class="n">fclose</span><span class="p">(</span><span class="n">inputfile</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">getcwd</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">cwd</span><span class="p">))</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
                <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="s">&quot;Current working dir: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">cwd</span><span class="p">);</span>
    <span class="k">else</span>
        <span class="n">perror</span><span class="p">(</span><span class="s">&quot;getcwd() error&quot;</span><span class="p">);</span>

    <span class="n">strcat</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span><span class="s">&quot;/&quot;</span><span class="p">);</span>
    <span class="n">strcat</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span><span class="s">&quot;resultfile&quot;</span><span class="p">);</span>
    <span class="n">newfile</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span><span class="s">&quot;w&quot;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">newfile</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
        <span class="n">perror</span><span class="p">(</span><span class="s">&quot;failed to open file</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

        <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="n">SIGNALS_NUM</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
                <span class="c1">//printf(names[j]);</span>
                <span class="n">inputfile</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="s">&quot;r&quot;</span><span class="p">);</span>

                <span class="n">fgets</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">line</span><span class="p">),</span> <span class="n">inputfile</span><span class="p">);</span>
                <span class="n">fprintf</span><span class="p">(</span><span class="n">newfile</span><span class="p">,</span><span class="s">&quot;V%d %s VSS PWL(&quot;</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">names</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
                <span class="n">getchange</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                <span class="n">c</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">currenthex</span><span class="p">];</span>
                <span class="c1">//printf(&quot;C---&gt;%c\n&quot;,c);</span>
                <span class="n">currentnumber</span> <span class="o">=</span> <span class="n">chartohex</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
                <span class="n">amountofshift</span> <span class="o">=</span> <span class="n">j</span><span class="o">%</span><span class="mi">4</span><span class="p">;</span>
                <span class="n">currentnumber</span> <span class="o">=</span> <span class="n">currentnumber</span> <span class="o">&gt;&gt;</span> <span class="n">amountofshift</span><span class="p">;</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">currentnumber</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span>
                <span class="c1">//printf(&quot;%d&quot;,result);</span>
                <span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="o">==</span><span class="mi">1</span><span class="p">){</span>
                        <span class="n">fprintf</span><span class="p">(</span><span class="n">newfile</span><span class="p">,</span><span class="s">&quot;%dns%s&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&quot; 1.2 &quot;</span><span class="p">);</span>
                        <span class="n">getchange</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
                        <span class="n">fprintf</span><span class="p">(</span><span class="n">newfile</span><span class="p">,</span><span class="s">&quot;%dns%s&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&quot; 0 &quot;</span><span class="p">);</span>
                        <span class="n">getchange</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">sizeoffile</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
                        <span class="n">fgets</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">line</span><span class="p">),</span> <span class="n">inputfile</span><span class="p">);</span>
                        <span class="n">c</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">currenthex</span><span class="p">];</span>
                        <span class="c1">//printf(&quot;C---&gt;%c\n&quot;,c);</span>
                        <span class="n">currentnumber</span> <span class="o">=</span> <span class="n">chartohex</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
                        <span class="n">amountofshift</span> <span class="o">=</span> <span class="n">j</span><span class="o">%</span><span class="mi">4</span><span class="p">;</span>
                        <span class="n">currentnumber</span> <span class="o">=</span> <span class="n">currentnumber</span> <span class="o">&gt;&gt;</span> <span class="n">amountofshift</span><span class="p">;</span>
                        <span class="n">result</span> <span class="o">=</span> <span class="n">currentnumber</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span>
                        <span class="c1">//printf(&quot;%d&quot;,result);</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="o">==</span><span class="mi">1</span><span class="p">){</span>
                                        <span class="k">if</span><span class="p">(</span><span class="n">getchange</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
                                                        <span class="n">fprintf</span><span class="p">(</span><span class="n">newfile</span><span class="p">,</span><span class="s">&quot;%dns%s&quot;</span><span class="p">,(</span><span class="n">t</span><span class="o">*</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="s">&quot; 0 &quot;</span><span class="p">);</span>
                                        <span class="p">}</span>
                                        <span class="n">fprintf</span><span class="p">(</span><span class="n">newfile</span><span class="p">,</span><span class="s">&quot;%dns%s&quot;</span><span class="p">,</span><span class="n">t</span><span class="o">*</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="s">&quot; 1.2 &quot;</span><span class="p">);</span>
                                        <span class="n">getchange</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
                                        <span class="k">if</span><span class="p">(</span><span class="n">getchange</span><span class="o">==</span><span class="mi">1</span><span class="p">){</span>
                                                        <span class="n">fprintf</span><span class="p">(</span><span class="n">newfile</span><span class="p">,</span><span class="s">&quot;%dns%s&quot;</span><span class="p">,(</span><span class="n">t</span><span class="o">*</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="s">&quot; 1.2 &quot;</span><span class="p">);</span>
                                        <span class="p">}</span>
                                        <span class="n">fprintf</span><span class="p">(</span><span class="n">newfile</span><span class="p">,</span><span class="s">&quot;%dns%s&quot;</span><span class="p">,</span><span class="n">t</span><span class="o">*</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="s">&quot; 0 &quot;</span><span class="p">);</span>
                                        <span class="n">getchange</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                        <span class="p">}</span>
                <span class="p">}</span>
                <span class="n">fprintf</span><span class="p">(</span><span class="n">newfile</span><span class="p">,</span><span class="s">&quot;)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
                <span class="n">fclose</span><span class="p">(</span><span class="n">inputfile</span><span class="p">);</span>
                <span class="n">testcount</span><span class="o">++</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="n">testcount</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">){</span>
                        <span class="n">testcount</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
                        <span class="n">currenthex</span><span class="o">=</span><span class="n">currenthex</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
                <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">fclose</span><span class="p">(</span><span class="n">newfile</span><span class="p">);</span>



<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>In this case, we are hardcoding the ports such as &#8220;Write_IN0&#8221;, to be attached to a file describing each bit at the simulation, for example:</p>
<p>4000C00000</p>
<div class="line-block">
<div class="line">&#8220;Write_IN0&#8221; = 0</div>
<div class="line">&#8220;Write_IN1&#8221; = 0</div>
<div class="line">&#8220;Write_IN2&#8221; = 0</div>
<div class="line">&#8220;Write_IN3&#8221; = 0</div>
<div class="line">&#8220;Write_IN4&#8221; = 0</div>
<div class="line">&#8220;Write_IN5&#8221; = 0</div>
<div class="line">&#8220;Write_IN6&#8221; = 0</div>
<div class="line">&#8220;Write_IN7&#8221; = 0</div>
<div class="line">&#8220;Write_IN8&#8221; = 0</div>
<div class="line">&#8220;Write_IN9&#8221; = 0</div>
<div class="line">&#8220;Write_IN10&#8221; = 0</div>
<div class="line">&#8220;Write_IN11&#8221; = 0</div>
<div class="line">&#8220;Write_IN12&#8221; = 0</div>
<div class="line">&#8220;Write_IN13&#8221; = 0</div>
<div class="line">&#8220;Write_IN14&#8221; = 0</div>
<div class="line">&#8220;Write_IN15&#8221; = 0</div>
<div class="line">&#8220;F_Decoder&#8221; = 0</div>
<div class="line">&#8220;E_Decoder&#8221; = 0</div>
<div class="line">&#8220;D_Decoder&#8221; = 0</div>
<div class="line">&#8220;C_Decoder&#8221; = 0</div>
<div class="line">&#8220;Write_Enable&#8221; = 0</div>
<div class="line">&#8220;Enable_Decoder&#8221; = 0</div>
<div class="line">&#8220;Pull_Read&#8221; = 1</div>
<div class="line">&#8220;SE&#8221; = 1</div>
<div class="line">&#8220;IN_0&#8221; = 0</div>
<div class="line">&#8220;IN_1&#8221; = 0</div>
<div class="line">&#8220;IN_2&#8221; = 0</div>
<div class="line">&#8220;IN_3&#8221; = 0</div>
<div class="line">&#8220;IN_4&#8221; = 0</div>
<div class="line">&#8220;IN_5&#8221; = 0</div>
<div class="line">&#8220;IN_6&#8221; = 0</div>
<div class="line">&#8220;IN_7&#8221; = 0</div>
<div class="line">&#8220;IN_8&#8221; = 0</div>
<div class="line">&#8220;IN_9&#8221; = 0</div>
<div class="line">&#8220;CLOCK_0&#8221; = 0</div>
<div class="line">&#8220;CLOCK_1&#8221; = 0</div>
<div class="line">&#8220;CLOCK_2&#8221; = 0</div>
<div class="line">&#8220;CLOCK_3&#8221; = 0</div>
<div class="line">&#8220;D_Reset&#8221; = 1</div>
<div class="line">&#8220;B_Decoder&#8221; = 0</div>
</div>
<p>If the user wants to use other signals or change the order, just change the vector components at the program. There are 2 defines at the beginning which corresponds to the number of Hexadecimals in one tuple minus one, and the number of signals.</p>
<p>After you compile this C program, just attach the signals file and run &#8221;./a.out signals.txt&#8221;. The output will be named &#8220;resultfile&#8221; and you can include in the SPICE file with &#8221;.include &#8216;resultfile&#8217;&#8221;.</p>
<p>A simple list of numbers to program a counter on a Tile:</p>
<p><a class="reference external" href="https://github.com/YangTavares/origin/blob/master/Sphinx/signals.txt">https://github.com/YangTavares/origin/blob/master/Sphinx/signals.txt</a></p>
<p>A good way to plan those signals is using Excel tool, it is possible to download how the previous signals were planned at: <a class="reference external" href="https://github.com/YangTavares/origin/blob/master/Sphinx/Research/Tile_Counter_Bigger_order_invout.xlsx">https://github.com/YangTavares/origin/blob/master/Sphinx/Research/Tile_Counter_Bigger_order_invout.xlsx</a></p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="vprprogram.html" class="btn btn-neutral float-right" title="Using VPR" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="fpgadecoder.html" class="btn btn-neutral" title="FPGA Decoder" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Yang Azevedo Tavares.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>